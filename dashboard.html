<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container mt-5">
    <h2>Welcome, <span id="userRole"></span>!</h2>

    <!-- Librarian Section -->
    <div id="librarianFeatures" class="d-none mt-5">
      <h3>Manage Books</h3>
      <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#bookModal">Add New Book</button>
      <table class="table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="booksList">
          <!-- Books will be dynamically added here -->
        </tbody>
      </table>

      <h3>Manage Members</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Username</th>
            <th>Role</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="membersList">
          <!-- Members will be dynamically added here -->
        </tbody>
      </table>

      <h3>All Members' Borrowing History</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Username</th>
            <th>Book Title</th>
            <th>Borrow Date</th>
            <th>Return Date</th>
          </tr>
        </thead>
        <tbody id="allMembersHistoryList">
          <!-- All members' borrowing history will be dynamically added here -->
        </tbody>
      </table>
    </div>

    <!-- Member Section -->
    <div id="memberFeatures" class="d-none mt-5">
      <h3>Available Books</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="availableBooksList">
          <!-- Books available for borrowing will be dynamically added here -->
        </tbody>
      </table>

      <h3>Your Borrowed Books History</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Book Title</th>
            <th>Borrow Date</th>
            <th>Return Date</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="borrowedHistoryList">
          <!-- Borrowed books history will be dynamically added here -->
        </tbody>
      </table>

      <button class="btn btn-danger" id="deleteAccount">Delete My Account</button>
    </div>
  </div>

  <!-- Add Book Modal -->
  <div class="modal fade" id="bookModal" tabindex="-1" aria-labelledby="bookModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="bookModalLabel">Add New Book</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="bookForm">
            <div class="mb-3">
              <label for="bookTitle" class="form-label">Book Title</label>
              <input type="text" class="form-control" id="bookTitle" required>
            </div>
            <div class="mb-3">
              <label for="bookAuthor" class="form-label">Author</label>
              <input type="text" class="form-control" id="bookAuthor" required>
            </div>
            <button type="submit" class="btn btn-primary">Add Book</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="js/dashboard.js"></script>
</body>
</html>
